<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
  <script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
	<!-- platform.js -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <script type='text/javascript' src='doc1.geojson'></script>
    <script type="text/javascript">
    	//Google Maps API key = AIzaSyDe98CfB0i-_31TjWg52UNcJ0B4i8o3duQ
//key=API_KEY
//this will not function without a publicly accessible kml URL
var map;
function initMap() {

  // console.log(url);
  // console.log(lt + ',' + ln);

  map = new google.maps.Map(document.getElementById("google-map"), {
    zoom: 8,
    center: {lat: 36.8529, lng: -75.9780},
    mapTypeId: 'terrain'
  });


  map.data.addGeoJson(data, {idPropertyName: 'Name'});

  /**********************************

  2017 VBPD Service Calls API

  50,000 records each

  Jan - Feb 27
  https://data.vbgov.com/resource/rqn2-9am9.geojson?$limit=50000&$order=call_date_time&$where=date_extract_y(call_date_time)%20=%202017

  Feb 27 - Apr 24
  https://data.vbgov.com/resource/rqn2-9am9.geojson?$limit=50000&$offset=50000&$order=call_date_time&$where=date_extract_y(call_date_time)%20=%202017

  Apr 24 - Jun 13
  https://data.vbgov.com/resource/rqn2-9am9.geojson?$limit=50000&$offset=100000&$order=call_date_time&$where=date_extract_y(call_date_time)%20=%202017

  Jun 13 - July 29
  https://data.vbgov.com/resource/rqn2-9am9.geojson?$limit=50000&$offset=150000&$order=call_date_time&$where=date_extract_y(call_date_time)%20=%202017

  July 29 - Sept 13 (end of 2017 dataset as of 10/2/17)
  https://data.vbgov.com/resource/rqn2-9am9.geojson?$limit=50000&$offset=200000&$order=call_date_time&$where=date_extract_y(call_date_time)%20=%202017

  **********************************/

}

  var controls = document.querySelector('controls');


    </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDe98CfB0i-_31TjWg52UNcJ0B4i8o3duQ&&libraries=visualization&callback=initMap"
  type="text/javascript"></script>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      body {
        position: relative;
      }
      #google-map {
        height: 100%;
      }

      .controls {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 100%;
        max-width: 200px;
        height: 75px;
        border: 1px solid black;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 20px;
      }
    </style>
</head>
<body>
  <div id="google-map"></div>	

  <div class="controls"></div>
</body>
</html>